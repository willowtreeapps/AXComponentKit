{"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The body and parameters of your navigation function can be practically anything needed to help make your test execution steps as succinct and readable as possible. Let’s look again at the example from our sample project that navigates to an arbitrary item on the second tab. You’ll see that it’s actually pretty lean:"}]},{"type":"codeListing","syntax":"swift","code":["extension AXScreenNavigator where Source == SecondTabScreen {","    @discardableResult","    func navigate(","        toItem ordinal: Int,","        file: StaticString = #file,","        line: UInt = #line","    ) async throws -> AXScreenNavigator<DetailScreen> {","        try await performNavigation(file: file, line: line) { screen in","            try await scroll(to: \\.rowItem, value: ordinal, in: \\.table, file: file, line: line)","            let rowItem = try await screen.element(\\.rowItem, value: ordinal, file: file, line: line)","            rowItem.tap()","        }","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Since navigation operations are atomic, we are assured that we’re on the source screen. We can focus on any and all factors that might affect the success of this operation, and ensure that it is equipped to succeed. In this example, there is no limit on the value that can be passed for "},{"type":"codeVoice","code":"ordinal"},{"type":"text","text":", so we must first guarantee we can scroll down to find it in the event that the element is offscreen."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"These kinds of guarantees can be difficult. What if the screen is somehow scrolled down already when this executes? As written, we don’t have a way to deal with that. Most of the time we simply don’t have enough information to know which direction we should scroll based on what is currently visible. Perhaps a future version of the framework will allow us to be more intelligent about this, but for now we can only move in a prescribed direction."}]},{"anchor":"Static-Variants","level":3,"type":"heading","text":"Static Variants"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The actual version of our example function has an extra method with the same signature in a different extension.  We "},{"type":"emphasis","inlineContent":[{"type":"text","text":"strongly"}]},{"type":"text","text":" recommend that you follow this pattern when implementing navigation operations to make your code as clean and clear at the call-site as possible.  This additional variant is an extension on the source screen model’s type, adding a static function of the same name:"}]},{"type":"codeListing","syntax":"swift","code":["extension SecondTabScreen {","    @discardableResult","    static func navigate(","        toItem ordinal: Int,","        file: StaticString = #file,","        line: UInt = #line","    ) async throws -> AXScreenNavigator<DetailScreen> {","        try await Navigator().navigate(toItem: ordinal, file: file, line: line)","    }","}","","extension AXScreenNavigator where Source == SecondTabScreen {","    @discardableResult","    func navigate(","        toItem ordinal: Int,","        file: StaticString = #file,","        line: UInt = #line","    ) async throws -> AXScreenNavigator<DetailScreen> {","        try await performNavigation(file: file, line: line) { screen in","            try await scroll(to: \\.rowItem, value: ordinal, in: \\.table, file: file, line: line)","            let rowItem = try await screen.element(\\.rowItem, value: ordinal, file: file, line: line)","            rowItem.tap()","        }","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Here is the before and after of having this extra extension:"}]},{"type":"codeListing","syntax":"swift","code":["    SecondTabScreen.Navigator().navigate(toItem: 3) \/\/ Before ","    SecondTabScreen.navigate(toItem: 3)             \/\/ After"]},{"anchor":"Using-The-Navigator-Extension","level":3,"type":"heading","text":"Using The Navigator Extension"},{"type":"paragraph","inlineContent":[{"type":"text","text":"With a navigation operation that takes care of the scrolling behavior in place, we can call "},{"type":"codeVoice","code":"navigate(toItem)"},{"type":"text","text":" on "},{"type":"codeVoice","code":"SecondTabScreen"},{"type":"text","text":" like so."}]},{"type":"codeListing","syntax":"swift","code":["func testCanNavigateToDetailScreen() async throws {","    try await SecondTabScreen.navigate(toItem: 3)","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A test that "},{"type":"emphasis","inlineContent":[{"type":"text","text":"must"}]},{"type":"text","text":" scroll to find the specified element would be essentially identical."}]},{"type":"codeListing","syntax":"swift","code":["func testCanScrollDownAndNavigate() async throws {","    try await SecondTabScreen.navigate(toItem: 80)","}"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/axcomponentkittestsupport\/customnavigatoroperations"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/AXComponentKitTestSupport\/documentation\/AXComponentKitTestSupport\/CustomNavigatorOperations","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Making your own composable operations"}],"kind":"article","metadata":{"roleHeading":"Article","title":"Custom Navigator Operations","role":"article","modules":[{"name":"AXComponentKitTestSupport"}]},"hierarchy":{"paths":[["doc:\/\/AXComponentKitTestSupport\/documentation\/AXComponentKitTestSupport"]]},"references":{"doc://AXComponentKitTestSupport/documentation/AXComponentKitTestSupport":{"role":"collection","title":"AXComponentKitTestSupport","abstract":[{"type":"text","text":"Writing your first UI test"}],"identifier":"doc:\/\/AXComponentKitTestSupport\/documentation\/AXComponentKitTestSupport","kind":"symbol","type":"topic","url":"\/documentation\/axcomponentkittestsupport"}}}